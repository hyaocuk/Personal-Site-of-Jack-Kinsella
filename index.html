<!doctype html>
  <html>
    <head>
      <meta charset="utf-8"/>
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>Jack Kinsella</title>
      <meta name="viewport" content="width=device-width, initial-scale=1"/>
      <!-- Typekit script -->
      <script type="text/javascript" src="http://use.typekit.com/xnr7evu.js"></script>
      <script type="text/javascript">try{Typekit.load();}catch(e){}</script>

      <link rel="stylesheet" href="/css/main.css"/>
      <link rel="apple-touch-icon" sizes="114x114" href="/images/avatar.jpg"/>

      <meta name="description" content="The blog, CV and portfolio of Jack Kinsella, Ruby on Rails programmer with an interest in nline marketing."/>
      <body lang="en" id="main-layout"   class="vcard ">
        <header id="masthead">
        <div class="wrapper">
          <a id="logo" href="../" rel="author">
            <div>
              <figure class="jk-logo frame">
              <img src="/images/avatar.jpg" alt="Avatar"/>
              </figure>
              <h1 class="fn">Jack Kinsella</h1>
              <p class="title">Rails Freelancer</p>
            </div>
          </a>
          <nav>
          <ul>
            <li class="index">
            <a href="../">
              <span class="icon">&#x270E;</span>
              <span>Blog</span>
            </a>
            </li>

            <li class="projects">
            <a href="../projects/">
              <span class="icon">&#x2605;</span>				
              <span>Projects</span>
            </a>
            </li>

            <li class="about">
            <a href="../about/">
              <span class="icon">?</span>			
              <span>About</span>
            </a>
            </li>

          </ul>
          </nav>
        </div>
        </header>

        <article id="content" class="hentry">

        <header>
        <div>
          <h1 class="entry-title">Leaving Old Internet Explorer Behind</h1>
          <p>Using media queries to make a clean break from legacy browsers.</p>
        </div>
        </header>

        <div class="wrapper">
          <div class="entry-content">
            <p>This site was designed <a href="http://www.lukew.com/ff/entry.asp?933">Mobile First</a>. The styles that make up the mobile version of its layout, which I&#8217;ll call the Narrow Layout from now on, are not inside a media query, while the styles that make up the wider versions are. As a result, browsers with no support for media queries will only see the Narrow Layout. This is a good thing.</p>

            <p>Instead of enabling media queries in the browsers that don&#8217;t support them, like Internet Explorer 6–8, I chose to simply serve them the Narrow Layout, slightly enhanced with Paul Irish&#8217;s <a href="http://paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/">IE conditional classes</a>.</p>

            <p>For example, I gave the layout a static width to make sure the content never stretches uncomfortably wide, and made sure images always display at full size, since I had halved their maximum sizes in the Narrow Layout.</p>

<pre><code>body {
    width: auto;
}
    .ie body {width: 540px;}

#content figure {
    width: 240px;
    max-width: 100%;
}
    .ie #content figure {width: 480px;}
</code></pre>

            <p>As a result, old mobile browsers will see a fluid single-column layout, and IE6–8 will see a similar static-width layout, perfectly comfortable for reading even on larger screens.</p>

            <figure class="full">
            <img src="../imgs/leaving-old-IE-behind.jpg" alt="This site in IE7"/>
            <figcaption>This is roughly what this site looks like in IE7.</figcaption>
            </figure>

            <p>So that&#8217;s old IE and old mobile browsers taken care of. Now comes the fun part. Since I can be sure that legacy browsers won&#8217;t be seeing any of the wider versions of my layout, I&#8217;m free to design them with the assumption that they&#8217;ll be viewed in a browser that supports such <a href="http://caniuse.com/#eras=now,near,far&amp;cats=CSS">luxuries</a> as…</p>

            <ul>
              <li>2D transforms</li>
              <li>CSS2.1 selectors: <code>+ &gt; [attr]</code></li>
              <li>most <a href="http://www.quirksmode.org/css/contents.html#CSS3">CSS3 selectors</a></li>
              <li><code>:before</code> and <code>:after</code></li>
              <li><code>opacity</code>, <code>box-shadow</code>, and <code>text-shadow</code> </li>
              <li><code>min/max-width</code> and <code>min/max-height</code></li>
              <li><code>box-sizing</code> and <code>inline-block</code></li>
              <li><code>rgba()</code> and <code>hsla()</code></li>
              <li>and even root-ems!</li>
            </ul>

            <p>Suddenly all the shackles imposed by old IE are gone. <em>I can even use margins on floated elements.</em> I&#8217;ll just let that sink in for a moment.</p>

            <p>I think I&#8217;ll be using this technique to deal with legacy browsers from now on. It requires no Javascript, no hacks, no separate stylesheets, and barely any effort, since single-column layouts rarely require the kind of advanced positioning that IE6 will have problems with. In this site&#8217;s case, I had to write less than a dozen lines of CSS to make the Narrow Layout comfortable to view in old IE. Simple, effortless, and oh so liberating.</p>

          </div>

          <footer>
          <dl class="byline author vcard">
            <div id="morePosts">
              <dt>All posts</dt>
              <dd><a href="../">Back to list</a></dd>
            </div>
            <div id="published">
              <dt>Posted on</dt>
              <dd><time datetime="2011-07-18T00:17:39+10:00" pubdate class="updated">17 Jul 2011</time></dd>
            </div>
            <div id="readingTime">
              <dt>Reading time</dt>
              <dd>2 minutes</dd>
            </div>
            <div id="nextPost">
              <dt>Next post</dt>
              <dd>
              <a href="../a-smoother-page-load/">A Smoother Page Load</a> 
              </dd>
            </div>
          </dl>
          </footer>
        </div>

        </article>

        <footer id="colophon">
        <div class="wrapper">
          <section class="links contact">
          <h2>Contact Me</h2>
          <ul>
            <li>
            <a href="http://twitter.com/jonikorpi">
              Tweet @me
              <span>for quick replies</span>
            </a>
            </li>
            <li id="email">
            <a href="mailto:&#x6d;&#x65;&#x40;&#x6a;&#x6f;&#x6e;&#x69;&#107;&#111;&#114;&#112;&#105;&#46;&#99;&#111;&#109;">
              Email me
              <span>for slow replies</span>
            </a>
            </li>
          </ul>
          </section>
          <section class="links follow">
          <h2>Follow Me</h2>
          <ul>
            <li>
            <a href="http://twitter.com/jonikorpi">
              Follow my tweets
              <span>@jonikorpi</span>
            </a>
            </li>
            <li>
            <a href="http://dribbble.com/jonikorpi">
              Follow my work
              <span>on Dribbble</span>
            </a>
            </li>
            <li id="followBlog">
            <a href="http://feeds.feedburner.com/jonikorpi">
              Follow via RSS 
              <span>for new blog posts</span>
            </a>
            </li>
          </ul>
          </section>
          <section id="copyright">
          <p>
          Code &amp; content by Jack Kinsella. All rights reserved. Please attribute properly and link back to this site.
          </p>
          </section>
        </div>
        </footer>
      </body>
    </html>
